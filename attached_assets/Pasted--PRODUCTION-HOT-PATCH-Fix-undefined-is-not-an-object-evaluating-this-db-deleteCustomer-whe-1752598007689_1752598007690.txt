ğŸ”§ PRODUCTION HOT-PATCH â€“ Fix â€œundefined is not an object (evaluating 'this.db.deleteCustomer')â€ when archiving a customer

1. **Root cause**  
   â€¢ In `renderCustomerList` the event-listener for the ğŸ—‘ button is created with a regular `function(e){â€¦}`.  
   â€¢ Inside that handler `this` no longer refers to the `CRMApp` instance, so `this.db` is **undefined**.  
   â€¢ Result: calling `this.db.deleteCustomer` throws the reported error.

2. **Code fixes (prod only, dev already has full affiliate code â€“ leave it untouched)**  
   a) **`script.js` â€“ renderCustomerList**  
      â€¢ Replace the current delete click handler with an **arrow function** so `this` is lexically bound:  
      ```javascript
      deleteBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        if (!confirm('Archive this customer?')) return;
        const customerId = row.dataset.customerId;
        this.db.deleteCustomer(customerId)
          .then(() => {
            this.showToast('Customer archived');
            row.remove();
          })
          .catch(err => {
            console.error('Delete failed:', err);
            this.showToast('Delete failed â€“ see console', 'error');
          });
      });
      ```
      â€¢ Ensure `deleteBtn` gets `cursor:pointer` via the existing `.action-icon` class.  

   b) **`DatabaseAPI.deleteCustomer`**  
      â€¢ Confirm itâ€™s exported and uses `fetch('/api/customers/'+id, {method:'DELETE', credentials:'include'})`.  
      â€¢ Return `response.ok` / throw error so `.catch()` above is triggered correctly.

3. **Regression checks**  
   â€¢ **Create** a throw-away customer e.g. â€œDelete Me Testâ€.  
   â€¢ Click the ğŸ—‘, confirm archive â†’ row disappears, toast shows.  
   â€¢ Refresh page â†’ archived customer **not** in list (server filters `deleted_at IS NULL`).  
   â€¢ Verify normal users (role â€œuserâ€) **do not** see the ğŸ—‘ icon.

4. **NO other changes**  
   â€¢ Do **not** touch dev-only affiliate/AE code.  
   â€¢ Do **not** restart dev server. Restart **only** prod (`npm run start:prod` or current script).

Return: â€œâœ… Archive button fixed and verified (prod) â€“ no errors thrownâ€ or detailed error list if anything still fails.